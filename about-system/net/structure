应用层：
    各种应用层的协议，无视下层，自己的交换方法，
    smtp pop 等，可以是使用telnet链接测试，
    dns使用upd传送，是本地dns代理中心式的访问找到对方。
        对方可以注册自己的dns到顶级域名，自己的对应服务的ip
        放到自己的dns服务器里面

传输层：
    udp 只有一个校验，看是否传输错误，其他直接给对应端口
    tcp 流控 这个是端对端的，主要是控制的两边传输层的缓存大小减去已经被
        应用层读掉的部分，这个每次发包都发给对方的
    tcp 拥塞控制，这个是根据当前是否重传，是否超时，这个窗口一开始从1以
        幂级递增(每收到一个回应就加1一个窗口位置），一旦快速重传，进入线性递增
        (每过一个ttl才加一个窗口），一旦超时，再减半，再线性，
        这个和流控共同决定窗口大小， 
        窗口控制了速率

        超时：
            这个一开始是不断2倍增长，一旦获得第一个rtt，以后就以这个位起点，
            每次获得新的rtt，以一定权重融合，这个平均rtt和另一个算出的当前rtt的
            变动比率一起平均 +４＊变动比率　为当前的超时时间
        快速重传：
            每次收到非顺序包，都会回复最后一个顺序包的响应，当超过三个重复响应之后
            就进行快速重传，而不是等超时
        握手：
            ｓｔａｒｔ　客户端发送，　服务端响应以及自己的初始发送（一个里面），
                        客户端响应服务端的初始（可以带数据）
            ｓｔｏｐ　  ａ　发送停止，ｂ响应，ｂ再发送停止，ａ响应（这里ｂ的发送会有一个超时，
                防止ａ没接到，可以继续重传）

网络层：
    路由器上入口有入口队列，然后查看表，传入端口转发装置，再到出口，
        如果出口满了，这里会丢，如果入口的地方处理不足，入口队列也会丢
    ｉｐ　包也有检验，检验的主要是头部，地址使用ｃｉｄｒ，前缀数量可变，
    路由算法分为ａｓ域内的ｏｓｐｆ，　ｒｉｐ这两个前者ｌｉｎｋ　ｓｔａｔｅ
    后者 距离向量，
    链路状态广播给所有路由器自己相邻的link消耗，再通过最短路径算法找路，
    距离向量每次都是给自己邻居传递所有路由的当前自己的获得的可达和距离信息，
        这个需要多次传递来达到收敛最优路径
    域间是bgp边界网关协议，这个是在不同的域间，交换各自的可达信息，
        再由边界路由告诉内部路由，这个各个域就能联系在一起，有新
        ip段，也是这个先开始扩张的
    nat：
        这个其实就是我们的路由器必有的功能，内部使用内部专用地址，
        和外部的交流通过路由器自动的端口映射出去，然后路由器会记住映射的端口，
        回来的讯息也是会传给对应方的，中间会修改源ip
    广播，组播：
        广播可以使用反向探测方法，就是只接收最短路径上过来的包，这样减少
        flood，同样可以使用生成树
        多播的特点在于主要是host和第一路由器之间有多播命令交换，很远的两个同组
            的路由器也有算法通过中间的非组播路由器传递，每个组有一个id的，可以申请加入
            每个路由器都会定期获取当前直连的所有组播成员，不响应代表退出

链路层：
    主要实现在网卡里面，负责传送，使用crc检验，可以纠错，硬件所以快，
    其他层软件，所以只校验不纠错。
    ppp单点传送没有冲突，
    分间隔：
        cdma 多传送这个是每人分一个id，比时分频分要更有效率
    尽力传送
        以太网，wifi等需要冲突检测，
        aloha这个就是冲突然后重新等待随机延时发送，初始模型
        csma 载波监听 cd冲突检测，就是发送前确认没人发送，
            发送后还要持续观测检验，因为发送本身接近光速，还是
            有延迟的
    环网：
        令牌， 主节点控制

    cable access 电视网络：
        首先频分上下行，然后下行共用无冲突
        上行时分，需要注册时间间隙，注册使用冲突感知，这里感知是
            看下一个下行是否分配给了自己，否则利用指数回退法回去

    交换：
        交换机没有地址，是透明的，他会记住每个进来的包的进口，以后以它为目的的就可以直接发送过去了，
            不知道的还是要广播，
    arp：
        已知ip，解析mac，用来在子网内部找到传送目标
    vlan：
        这个有vlan id，用来将某几个网口组成一个虚拟子网，包只在里面传送，不传给其他口
    
    网际互联：
        集线器是物理设备，只处理电信号，
        网桥是链路层的，所以遵守csmacd，在两边屏蔽拥塞，但是对于通信是透明的，
            两边都是用mac交流的
        fddi 
            这个是令牌网式的光纤通信，有两根，方向相反，这样如果一台断了，可以从断前那台开始
            转向从自己的另一跟备份的传数据
        atm：
            这个有特殊的格式，不是被上层协议，需要先联系交换机产生预留电路，分配标记，然后用这个标记发送，
            特点是告诉
        一开始是粗同轴电缆，但是要放收发器，拉aui线连接电缆上的收发器和主机接口，麻烦贵，
            后来细电缆，便宜但是串联机器
            后来双绞线
            后来快速以太网，100Mb，
            后来双速，
            后来千兆

        广域网：
            这个和局域不一样，一开始是arpanet，有几个主要机器链接各个地方，
            后来又有了一个机构nfs，开始链接超级计算机，同时连到了arpa上面

完整的访问路径：
    首先注册联网，发送dhcp包，ip广播，mac广播，交换机广播，并
    记录来源接口， 接受的机器每个检验，看是否自己运行了dhcp服务，有的话
        会回应，包含一个ip，包含dns ip， 包含默认网关（用来传送外网包）
    拥有ip后，键入url，根据url，要先找dns，所以发包给dns服务器，但是链路层首先要arp广播
        根据dhcp发过来的网关获取对应的mac，然后以dns ip  网关mac 发送dns包，路由器根据
        bgp ospf rip计算的路由表最终路由到目的地子网，（这里可能也需要arp），然后那边dns
        返回你要的url的ip，
    接受目的ip后，发送tcp syn包，那边返回tcp ack包，这里开始发送http get包，两边开始通信
